<!doctype html>
<html>
  <head>
      <!-- VIT Source -->
      <script type="text/javascript" src="https://votinginfotool.org/js/compiled/app.js"></script>
      <link rel="stylesheet" href="https://votinginfotool.org/css/compiled/vit.css"/>
  </head>
<body>
  <div id="_vit" style="max-width: 1024px; height: 480px; margin: 0 auto 0 0;"></div>
  <script type="text/javascript">
    function getQueryParams(qs) {
      qs = qs.split("+").join(" ");
      var params = {}, tokens,
        re = /[?&]?([^=]+)=([^&]*)/g;
      while (tokens = re.exec(qs)) {
        params[decodeURIComponent(tokens[1])]
            = decodeURIComponent(tokens[2]);
      }
      return params;
    }

    if(window.location.search) {
      var params = getQueryParams(window.location.search.substring(1));
      var apiKey = params['apiKey'];
      if(apiKey) {
        vit.core.init("_vit", {"logo": {"type": "default"},
                               "civic-info-api-key": apiKey,
                               "official-only": true,
                               "production-data-only": false,
                               "display-mode": "desktop"});
      } else {
        alert("Civic Info API Key missing");
      }
    } else {
      alert("Configuration missing");
    }
  </script>
</body>
</html>
